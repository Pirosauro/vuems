/* eslint-disable no-param-reassign */
/*
 * Copyright Â© Bold Brand Commerce Sp. z o.o. All rights reserved.
 * See LICENSE for license details.
 */
import extendsModules from '~/.nuxt/extends.modules';
import deepmerge from 'deepmerge';

export default async ({ app }, inject) => {
    const extendComponents = Object.values(extendsModules)
        .reduce((acc, current) => deepmerge(acc, current.extendComponents || {}), {});

    inject('getExtendedComponents', type => extendComponents[type]);
};
